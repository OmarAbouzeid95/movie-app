{"ast":null,"code":"import _objectSpread from\"/Users/omaradhamabouzeid/Documents/JS/React/movie-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/omaradhamabouzeid/Documents/JS/React/movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(props){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),signInStatus=_useState4[0],setSignInStatus=_useState4[1];// eslint-disable-next-line no-unused-vars\nfunction signIn(){/**\n         * POST request to make the password not visible in the URL \n         * check the server to see if this user exists\n         */fetch('https://omarabouzeid95.github.io/movie-app/signIn',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userInfo)}).then(function(res){return res.json();}).then(function(data){console.log(data);if(!data){setSignInStatus('failed');}else{// signed in successfully\nprops.updateUserData(data);setTimeout(function(){props.updateCurrentPage('homepage');},2000);setSignInStatus('success');}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"form-box\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"subtitle\",children:\"Sign in with your email.\"}),signInStatus!==''&&signInStatus!=='success'&&/*#__PURE__*/_jsx(\"p\",{className:\"signIn-failed\",children:\"Email or password are incorrect.\"}),signInStatus==='success'&&/*#__PURE__*/_jsx(\"p\",{className:\"signIn-successful\",children:\"Successfully Signed in!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"input\",required:true,placeholder:\"Email\",onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{email:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"input\",required:true,placeholder:\"Password\",onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{password:e.target.value}));}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.preventDefault();signIn();},children:\"Sign in\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-section\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"span\",{className:\"signUp-btn\",onClick:function onClick(){return props.updateCurrentPage(\"signUp\");},children:\"Sign up\"})]})})]});}","map":{"version":3,"names":["React","useState","SignIn","props","email","password","userInfo","setUserInfo","signInStatus","setSignInStatus","signIn","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","updateUserData","setTimeout","updateCurrentPage","e","target","value","preventDefault"],"sources":["/Users/omaradhamabouzeid/Documents/JS/React/movie-app/client/src/SignIn.jsx"],"sourcesContent":["import {React, useState} from 'react'\n\nexport default function SignIn(props){\n    \n    const [userInfo, setUserInfo] = useState({email: '', password: ''})\n    const [signInStatus, setSignInStatus] = useState('')\n\n    // eslint-disable-next-line no-unused-vars\n    function signIn(){\n        /**\n         * POST request to make the password not visible in the URL \n         * check the server to see if this user exists\n         */\n        fetch('https://omarabouzeid95.github.io/movie-app/signIn', {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(userInfo)\n        }).then(res => res.json())\n        .then(data => {\n            console.log(data)\n            if (!data) {\n                setSignInStatus('failed')\n            } else {\n                // signed in successfully\n                props.updateUserData(data)\n                setTimeout(() => {\n                    props.updateCurrentPage('homepage')\n                }, 2000)\n                setSignInStatus('success')\n            }\n        })\n    }\n\n    return (\n        <div className=\"form-box\">\n        <form className=\"form\">\n            <span className=\"subtitle\">Sign in with your email.</span>\n            {((signInStatus !== '') && (signInStatus !== 'success')) && <p className=\"signIn-failed\">Email or password are incorrect.</p>}\n            {(signInStatus === 'success') && <p className=\"signIn-successful\">Successfully Signed in!</p>}\n            <div className=\"form-container\">\n                    <input type=\"email\" className=\"input\" required placeholder=\"Email\" onChange={(e) => setUserInfo({...userInfo, email: e.target.value})}></input>\n                    <input type=\"password\" className=\"input\" required placeholder=\"Password\" onChange={(e) => setUserInfo({...userInfo, password: e.target.value})}></input>\n            </div>\n            <button onClick={(e) => {\n                e.preventDefault()\n                signIn()\n                }}>Sign in</button>\n        </form>\n        <div className=\"form-section\">\n            <p>Don't have an account? <span className=\"signUp-btn\" onClick={() => props.updateCurrentPage(\"signUp\")}>Sign up</span></p>\n        </div>\n        \n    </div>\n    )\n}"],"mappings":"qRAAA,OAAQA,KAAK,CAAEC,QAAQ,KAAO,OAAO,yFAErC,cAAe,SAASC,OAAM,CAACC,KAAK,CAAC,CAEjC,cAAgCF,QAAQ,CAAC,CAACG,KAAK,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAE,CAAC,CAAC,wCAA5DC,QAAQ,eAAEC,WAAW,eAC5B,eAAwCN,QAAQ,CAAC,EAAE,CAAC,yCAA7CO,YAAY,eAAEC,eAAe,eAEpC;AACA,QAASC,OAAM,EAAE,CACb;AACR;AACA;AACA,WACQC,KAAK,CAAC,mDAAmD,CAAE,CACvDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACV,QAAQ,CACjC,CAAC,CAAC,CAACW,IAAI,CAAC,SAAAC,GAAG,QAAIA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB,GAAI,CAACA,IAAI,CAAE,CACPX,eAAe,CAAC,QAAQ,CAAC,CAC7B,CAAC,IAAM,CACH;AACAN,KAAK,CAACoB,cAAc,CAACH,IAAI,CAAC,CAC1BI,UAAU,CAAC,UAAM,CACbrB,KAAK,CAACsB,iBAAiB,CAAC,UAAU,CAAC,CACvC,CAAC,CAAE,IAAI,CAAC,CACRhB,eAAe,CAAC,SAAS,CAAC,CAC9B,CACJ,CAAC,CAAC,CACN,CAEA,mBACI,aAAK,SAAS,CAAC,UAAU,wBACzB,cAAM,SAAS,CAAC,MAAM,wBAClB,aAAM,SAAS,CAAC,UAAU,UAAC,0BAAwB,EAAO,CACvDD,YAAY,GAAK,EAAE,EAAMA,YAAY,GAAK,SAAU,eAAK,UAAG,SAAS,CAAC,eAAe,UAAC,kCAAgC,EAAI,CAC3HA,YAAY,GAAK,SAAS,eAAK,UAAG,SAAS,CAAC,mBAAmB,UAAC,yBAAuB,EAAI,cAC7F,aAAK,SAAS,CAAC,gBAAgB,wBACvB,cAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,MAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAE,kBAACkB,CAAC,QAAKnB,YAAW,gCAAKD,QAAQ,MAAEF,KAAK,CAAEsB,CAAC,CAACC,MAAM,CAACC,KAAK,GAAE,EAAC,EAAS,cAC/I,cAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,MAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAE,kBAACF,CAAC,QAAKnB,YAAW,gCAAKD,QAAQ,MAAED,QAAQ,CAAEqB,CAAC,CAACC,MAAM,CAACC,KAAK,GAAE,EAAC,EAAS,GAC1J,cACN,eAAQ,OAAO,CAAE,iBAACF,CAAC,CAAK,CACpBA,CAAC,CAACG,cAAc,EAAE,CAClBnB,MAAM,EAAE,CACR,CAAE,UAAC,SAAO,EAAS,GACpB,cACP,YAAK,SAAS,CAAC,cAAc,uBACzB,qBAAG,yBAAuB,2BAAM,SAAS,CAAC,YAAY,CAAC,OAAO,CAAE,yBAAMP,MAAK,CAACsB,iBAAiB,CAAC,QAAQ,CAAC,EAAC,UAAC,SAAO,EAAO,GAAI,EACzH,GAEJ,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}