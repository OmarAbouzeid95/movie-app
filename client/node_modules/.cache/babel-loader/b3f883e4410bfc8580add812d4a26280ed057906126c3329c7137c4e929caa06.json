{"ast":null,"code":"import _objectSpread from\"/Users/omaradhamabouzeid/Documents/JS/React/movie-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/omaradhamabouzeid/Documents/JS/React/movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignUp(props){var _useState=useState({firstName:'',lastName:'',email:'',password:'',repassword:''}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),signUpStatus=_useState4[0],setSignUpStatus=_useState4[1];function signUp(){/**\n         * some validations for the signup\n         */var isAlpha=function isAlpha(str){return /^[a-zA-Z]*$/.test(str);};var isPassword=function isPassword(str){return /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(str);};if(!isAlpha(userInfo.firstName)||userInfo.firstName.trim(' ')===''){setSignUpStatus('Enter a valid First name');}else if(!isAlpha(userInfo.lastName)||userInfo.lastName.trim(' ')===''){setSignUpStatus('Enter a valid last name');}else if(userInfo.email.indexOf('@')===-1||userInfo.email.indexOf('.')===-1){setSignUpStatus('Enter a valid email address');}else if(!isPassword(userInfo.password)){setSignUpStatus(/*#__PURE__*/_jsxs(\"span\",{className:\"pw-rules\",children:[\"Password needs to match these rules: \",/*#__PURE__*/_jsx(\"br\",{}),\"- Minimum eight characters \",/*#__PURE__*/_jsx(\"br\",{}),\"- At least one uppercase letter \",/*#__PURE__*/_jsx(\"br\",{}),\"- At least one lowercase letter \",/*#__PURE__*/_jsx(\"br\",{}),\"- One number \",/*#__PURE__*/_jsx(\"br\",{}),\"- One special character\"]}));}else if(userInfo.password!==userInfo.repassword){setSignUpStatus(\"Passwords don't match\");}else{/**\n             * Check if email already exists in the DB\n             */fetch(\"https://omarabouzeid95.github.io/movie-app/user/\".concat(userInfo.email)).then(function(res){return res.json();}).then(function(data){if(data===null){/**\n                     * Create new user by POST request\n                     */fetch('https://omarabouzeid95.github.io/movie-app/signUp',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userInfo)}).then(function(res){return res.json();}).then(function(data){if(data.result===\"success\"){setTimeout(function(){props.updateCurrentPage('signIn');},2000);setSignUpStatus('success');}else{setSignUpStatus('Failed to sign up.');}});}else{setSignUpStatus('This email is already in use.');}});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"form-box\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"subtitle\",children:\"Create a free account with your email.\"}),signUpStatus!==''&&signUpStatus!=='success'&&/*#__PURE__*/_jsx(\"p\",{className:\"signUp-failed\",children:signUpStatus}),signUpStatus==='success'&&/*#__PURE__*/_jsx(\"p\",{className:\"signUp-successful\",children:\"Successfully Signed up!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",required:true,placeholder:\"First Name\",onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{firstName:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",required:true,placeholder:\"Last Name\",onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{lastName:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"input\",required:true,placeholder:\"Email\",onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{email:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"input\",required:true,placeholder:\"Password\",onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{password:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"input\",required:true,placeholder:\"Re-enter Password\",onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{repassword:e.target.value}));}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.preventDefault();signUp();},children:\"Sign up\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-section\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Have an account? \",/*#__PURE__*/_jsx(\"span\",{className:\"signIn-btn\",onClick:function onClick(){return props.updateCurrentPage(\"signIn\");},children:\"Sign in\"})]})})]});}","map":{"version":3,"names":["React","useState","SignUp","props","firstName","lastName","email","password","repassword","userInfo","setUserInfo","signUpStatus","setSignUpStatus","signUp","isAlpha","str","test","isPassword","trim","indexOf","fetch","then","res","json","data","method","headers","body","JSON","stringify","result","setTimeout","updateCurrentPage","e","target","value","preventDefault"],"sources":["/Users/omaradhamabouzeid/Documents/JS/React/movie-app/client/src/SignUp.jsx"],"sourcesContent":["import {React, useState} from 'react'\n\nexport default function SignUp(props){\n    \n    const [userInfo, setUserInfo] = useState({firstName: '', lastName: '', email: '', password: '', repassword: ''})\n    const [signUpStatus, setSignUpStatus] = useState('')\n\n    function signUp(){\n        /**\n         * some validations for the signup\n         */\n        const isAlpha = str => /^[a-zA-Z]*$/.test(str);\n        const isPassword = str => /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(str)\n        if (!isAlpha(userInfo.firstName) || userInfo.firstName.trim(' ') === ''){\n            setSignUpStatus('Enter a valid First name')\n        }else if(!isAlpha(userInfo.lastName) || userInfo.lastName.trim(' ') === ''){\n            setSignUpStatus('Enter a valid last name')  \n        }else if(userInfo.email.indexOf('@') === -1 || userInfo.email.indexOf('.') === -1){\n            setSignUpStatus('Enter a valid email address')\n        }\n        else if(!isPassword(userInfo.password)){\n            setSignUpStatus(<span className=\"pw-rules\">Password needs to match these rules: <br></br>\n                           - Minimum eight characters <br></br>\n                           - At least one uppercase letter <br></br>\n                           - At least one lowercase letter <br></br>\n                           - One number <br></br>\n                           - One special character</span>)             \n        }else if(userInfo.password !== userInfo.repassword){\n            setSignUpStatus(\"Passwords don't match\")\n        }else {\n            /**\n             * Check if email already exists in the DB\n             */\n            fetch(`https://omarabouzeid95.github.io/movie-app/user/${userInfo.email}`)\n            .then(res => res.json())\n            .then(data => {\n                if (data === null){\n                    /**\n                     * Create new user by POST request\n                     */\n                    fetch('https://omarabouzeid95.github.io/movie-app/signUp', {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(userInfo)\n                    })\n                    .then(res => res.json())\n                    .then(data => {\n                        if (data.result === \"success\"){\n                            setTimeout(() => {\n                                props.updateCurrentPage('signIn')\n                            }, 2000)\n                            setSignUpStatus('success')\n                        }else {\n                            setSignUpStatus('Failed to sign up.')\n                        }\n                    })\n                }\n                else {\n                    setSignUpStatus('This email is already in use.')\n                }\n            })\n            \n        }\n    }\n\n    return (\n        <div className=\"form-box\">\n                <form className=\"form\">\n                    <span className=\"subtitle\">Create a free account with your email.</span>\n                    {((signUpStatus !== '') && (signUpStatus !== 'success')) && <p className=\"signUp-failed\">{signUpStatus}</p>}\n                    {(signUpStatus === 'success') && <p className=\"signUp-successful\">Successfully Signed up!</p>}\n                    <div className=\"form-container\">\n                            <input type=\"text\" className=\"input\" required placeholder=\"First Name\" onChange={(e) => setUserInfo({...userInfo, firstName: e.target.value})}></input>\n                            <input type=\"text\" className=\"input\" required placeholder=\"Last Name\" onChange={(e) => setUserInfo({...userInfo, lastName: e.target.value})}></input>\n                            <input type=\"email\" className=\"input\" required placeholder=\"Email\" onChange={(e) => setUserInfo({...userInfo, email: e.target.value})}></input>\n                            <input type=\"password\" className=\"input\" required placeholder=\"Password\" onChange={(e) => setUserInfo({...userInfo, password: e.target.value})}></input>\n                            <input type=\"password\" className=\"input\" required placeholder=\"Re-enter Password\" onChange={(e) => setUserInfo({...userInfo, repassword: e.target.value})}></input>\n                    </div>\n                    <button onClick={(e) => {\n                        e.preventDefault()\n                        signUp()\n                        }}>Sign up</button>\n                </form>\n                <div className=\"form-section\">\n                    <p>Have an account? <span className=\"signIn-btn\" onClick={() => props.updateCurrentPage(\"signIn\")}>Sign in</span></p>\n                </div>\n                \n            </div> \n            )\n        }\n            \n    \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}